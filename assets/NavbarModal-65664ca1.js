import{i as l,j as e,r as d,u as o,M as x,b}from"./index-cfb00355.js";import{M as f}from"./ModalWindow-b977f238.js";import{s as c,T as k,A as p}from"./useResizeWindow-5917eeb9.js";import{u as y}from"./useStartTransition-527b6240.js";import"./useCloseModal-c43e9243.js";const v=()=>{const{i18n:a,t:n}=l("translation",{keyPrefix:"NavBar"}),r=s=>{a.changeLanguage(s)},t=a.language;return e.jsxs("div",{className:"flex flex-col p-1 border border-zinc-600 dark:border-zinc-500 rounded-md",children:[e.jsx("h2",{className:"text-center font-extrabold text-black dark:text-white",children:n("Language")}),e.jsxs("div",{className:"flex",children:[e.jsx("button",{className:`w-full whitespace-nowrap px-3 py-2 text-sm font-normal text-gray-800 dark:text-gray-300 dark:hover:text-gray-800 ${t==="en"?"bg-gray-400 dark:bg-gray-300 dark:text-gray-800":"hover:bg-gray-500 dark:hover:bg-gray-200"} disabled:pointer-events-none transition-all duration-300 rounded-md `,onClick:()=>{r("en"),localStorage.setItem("language","en")},"aria-label":"Choose english language",disabled:t==="en",children:n("English")}),e.jsx("button",{className:`w-full whitespace-nowrap px-3 py-2 text-sm font-normal text-gray-800 dark:text-gray-300 dark:hover:text-gray-800 ${t==="ua"?"bg-gray-400 dark:bg-gray-300 dark:text-gray-800":"hover:bg-gray-500 dark:hover:bg-gray-200"} disabled:pointer-events-none transition-all duration-300 rounded-md `,onClick:()=>{r("ua"),localStorage.setItem("language","ua")},"aria-label":"Choose ukrainian language",disabled:t==="ua",children:n("Ukrainian")}),e.jsx("button",{className:`w-full whitespace-nowrap px-3 py-2 text-sm font-normal text-gray-800 dark:text-gray-300 dark:hover:text-gray-800 ${t==="ru"?"bg-gray-400 dark:bg-gray-300 dark:text-gray-800":"hover:bg-gray-500 dark:hover:bg-gray-200"} disabled:pointer-events-none transition-all duration-300 rounded-md `,onClick:()=>{r("ru"),localStorage.setItem("language","ru")},"aria-label":"Choose russian language",disabled:t==="ru",children:n("Russian")})]})]})},j=()=>{d.useEffect(()=>{function a(){document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")}function n(){document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")}const r=document.querySelector("#light-theme-switcher"),t=document.querySelector("#dark-theme-switcher");return r.addEventListener("click",n),t.addEventListener("click",a),()=>{r.removeEventListener("click",n),t.removeEventListener("click",a)}},[])},w=()=>{const[a,n]=d.useState(()=>localStorage.getItem("theme")==="light"),{t:r}=l("translation",{keyPrefix:"NavBar"});j();const t=()=>{n(s=>!s)};return e.jsxs("div",{className:"flex flex-col p-1 border border-zinc-600 dark:border-zinc-500 rounded-md",children:[e.jsx("h2",{className:"text-center font-extrabold text-black dark:text-white",children:r("Theme")}),e.jsxs("div",{className:"flex",children:[e.jsx("button",{id:"light-theme-switcher",className:`w-full whitespace-nowrap px-3 py-2 text-sm font-normal text-gray-800 dark:text-gray-300 ${a&&"bg-gray-400"} transition-all duration-300 hover:dark:text-gray-800 hover:bg-gray-200 rounded-md disabled:pointer-events-none`,"data-theme":"light",disabled:a,onClick:t,"aria-label":"Light theme",children:e.jsxs("div",{className:"flex justify-center items-center gap-1 pointer-events-none",children:[e.jsx("svg",{width:24,height:24,fill:"currentColor",children:e.jsx("use",{href:c+"#ligth-theme-sun"})}),e.jsx("span",{"data-theme-name":"light",children:r("Light")})]})}),e.jsx("button",{id:"dark-theme-switcher",className:`w-full whitespace-nowrap px-3 py-2 text-sm font-normal text-gray-700 ${!a&&"bg-gray-300"} transition-all duration-300 hover:bg-gray-500 rounded-md disabled:pointer-events-none`,"data-theme":"dark",disabled:!a,onClick:t,"aria-label":"Dark theme",children:e.jsxs("div",{className:"flex justify-center items-center gap-1 pointer-events-none",children:[e.jsx("svg",{width:24,height:24,fill:"currentColor",children:e.jsx("use",{href:c+"#dark-theme-moon"})}),e.jsx("span",{"data-theme-name":"dark",children:r("Dark")})]})})]})]})},E=({handleToggleModal:a})=>{const n=y(),r=d.useRef(null),{t}=l("translation",{keyPrefix:"NavBar"}),s=o(i=>i.currentUser),h=o(i=>i.updateSidebarScreen),g=o(i=>i.resetCurrentChatInfo),m=async()=>{g(),await x(b)},u=()=>{h("profileSettings"),a()};return e.jsx(k,{nodeRef:r,in:n,timeout:300,unmountOnExit:!0,children:i=>e.jsx("div",{ref:r,children:e.jsx(f,{handleToggleModal:a,contentClasses:`flex items-center justify-center transform origin-top-left transition-transform ${i==="exited"?"hidden":""}
                ${i==="entered"?"scale-100 opacity-100":"translate-x-4 translate-y-10 scale-0 opacity-50"}
                `,children:e.jsxs("div",{className:"absolute top-14 left-5 z-20 flex flex-col gap-2 p-2 bg-gray-200 dark:bg-myBlackBcg rounded-md shadow-mainShadow",children:[e.jsxs("div",{className:"flex justify-between items-center gap-1 text-black dark:text-white",children:[e.jsx(p,{photoURL:s.photoURL,displayName:s.displayName,size:"50"}),e.jsx("p",{className:"flex transf",children:s==null?void 0:s.displayName}),e.jsx("button",{className:"px-2 py-1 border border-zinc-600 dark:border-zinc-500 rounded-full transition-all duration-300 hover:shadow-mainShadow hover:bg-zinc-400 hover:dark:bg-gray-800",onClick:m,"aria-label":"Sign Out",children:t("SignOut")})]}),e.jsx("button",{className:"px-2 py-1 border border-zinc-600 dark:border-zinc-500 rounded-full text-black dark:text-white transition-all duration-300 hover:shadow-mainShadow hover:bg-zinc-400 hover:dark:bg-gray-800",onClick:u,"aria-label":"Profile settings",children:t("ProfileSettings")}),e.jsx(w,{}),e.jsx(v,{})]})})})})};export{E as default};
